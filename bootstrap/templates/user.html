<!DOCTYPE html>
<html lang="en">

<head>
  <title>Login</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="../static/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
  <style>
    .btn-default.btn-on.active {
      background-color: #5BB75B;
      color: white;
    }

    .btn-default.btn-off.active {
      background-color: #DA4F49;
      color: white;
    }

    .switch {
            position: relative;
            display: inline-block;
            width: 56px;
            height: 25px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }

        input:checked + .slider {
            background-color: #428bca;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #2196F3;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(27px);
            -ms-transform: translateX(27px);
            transform: translateX(27px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }


  </style>

</head>

<body>


  <div class="container">
    <div class="row">


      <div class="col-md-12">
        <h3>User's Instances</h3>
        <div class="table-responsive">


          <table id="mytable" class="table table-bordred table-striped">

            <thead>

              <th><input type="checkbox" id="checkall" /></th>
              <th>ID</th>
              <th>Name</th>
              <th>Public IP</th>
              <th>Private IP</th>
              <th>State</th>
              <!-- <th>Edit</th> -->

              <th>ON/OFF</th>
            </thead>
            <tbody>

            {% for instance in instances %}
              <tr>
                <td><input type="checkbox" class="checkthis" /></td>
                <td id="insID">{{ instance['Id'] }}</td>
                <td>{{ instance['Name'] }}</td>
                <td>{{ instance['PublicIP'] }}</td>
                <td>{{ instance['PrivateIP'] }}</td>
                <td id="state">{{ instance['State'] }}</td>
                <td>
                  <label data-placement="top" data-toggle="tooltip"  class="switch">
                      <input type="checkbox"  data-toggle="modal" data-target="#delete">
                      <span class="slider round"></span>
                  </label>
                </td>

              </tr>
            {% endfor %}

            </tbody>

          </table>

          <div class="clearfix"></div>
          <ul class="pagination pull-right">
            <li class="disabled"><a href="#"><span class="glyphicon glyphicon-chevron-left"></span></a></li>
            <li class="active"><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
            <li><a href="#">5</a></li>
            <li><a href="#"><span class="glyphicon glyphicon-chevron-right"></span></a></li>
          </ul>

        </div>

      </div>
    </div>
  </div>


  <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span
              class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
          <h4 class="modal-title custom_align" id="Heading">State Changing</h4>
        </div>
        <div class="modal-body">

          <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want
            to change the State?</div>

        </div>
        <div class="modal-footer ">
          <button type="button" class="btn btn-success" id="changeState" data-dismiss="modal"><span class="glyphicon glyphicon-ok-sign"></span>Yes</button>
          <button type="button" class="btn btn-default" data-dismiss="modal"><span
              class="glyphicon glyphicon-remove"></span>Â No</button>
        </div>
      </div>
      <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
  </div>

  <script src="../static/3.3.0/js/bootstrap.min.js"></script>
  <script src="../static/jquery/jquery-1.11.1.min.js"></script>
  <!------ Include the above in your HEAD tag ---------->

  <script src="../static/jquery/1.9.1/jquery.min.js"></script>
  <script src="../static/3.3.0/js/bootstrap.min.js"></script>

  <script>

    $(document).ready(function () {


      $("#mytable #checkall").click(function () {
        if ($("#mytable #checkall").is(':checked')) {
          $("#mytable input[type=checkbox]").each(function () {
            $(this).prop("checked", true);
          });

        } else {
          $("#mytable input[type=checkbox]").each(function () {
            $(this).prop("checked", false);
          });
        }
      });

      $("[data-toggle=tooltip]").tooltip();
    });

    $("#changeState").click( function (){
      console.log("yes clicked...")
      // get state and instance ID
      // stop instance by ID.
      var ins_state = document.getElementById("#state");
      console.log(ins_state.firstChild.nodeValue);
    });

  </script>


</body>

</html>